<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selezionare attributi nel DOM</title>
</head>
<body>
    <h1>Selezionare e modificare attributi del DOM</h1>
    <p>Vogliamo manipolare ad esempio la proprietà href di un link o la proprietà src di un'immagine</p>
    <table>
        <tr>
            <th>Metodo</th>
            <th>Descrizione</th>
        </tr>
        <tr>
            <td>hasAttribute(attrName)</td>
            <td>Restituisce true se l'elemento ha l'attributo specificato come parametro</td>
        </tr>
        <tr>
            <td>hasAttributes()</td>
            <td>Restituisce true se l'elemento ha almeno un attributo valorizzato</td>
        </tr>
        <tr>
            <td>getAttribute(attrName)</td>
            <td>restituisce il valore dell'attributo specificato come parametro</td>
        </tr>
        <tr>
            <td>setAttribute(attrName, value)</td>
            <td>imposta (col secondo parametro) il nuovo valore di un attributo</td>
        </tr>
    </table>
    <p>Quando uso questi metodi?</p>
    <script>
        // assegno un'immagine di default agli elementi <img> che non hanno un'immagine associata
        var imgList = document.getElementsByTagName("img");
        for(var i = 0; i < imgList.length; i++) {
            if (!imgList[i].hasAttribute("src")) {              // primo caso il parametro è il nome dell'attributo che cerco
                imgList[i].setAttribute("src", "default.png");  // il primo parametro è attrName, il secondo value
                // tutte le volte che non c'è src lo aggiunge e gli assegna default.png -> <img> -> <img src="default.png">
            }
        }
        // posso accedere anche con la dot notation
        var imgList = document.getElementsByTagName("img");
        for(var i = 0; i < imgList.length; i++) {
            if(!imgList[i].src) {
                imgList[i].src = "default.png";
            }
        }
    </script>
    <h3>Esempio di sostituzione immagine</h3>
    <img id="myImg" src="./img/img_1.png">
    <p>Clicca sul bottone per cambiare il valore dell'attributo src</p>
    <button onclick="myFunction()">Prova</button>
    <script>
        function myFunction() {
            document.getElementById("myImg").src = "./img/img_2.png";
        }
    </script>

    <h3>Esempio completo con setAttribute</h3>
    <p>Seleziono un titolo e con setAttribute gli passo una classe da aggiungere</p>
    <style>
        .democlass {color:red}
    </style>
    <h5 id="myH5">L'elemento a cui aggiungo la classe</h5>
    <button onclick="myFunctiondue()">Aggiungi classe</button>
    <script>
        function myFunctiondue(){
            document.getElementById("myH5").setAttribute("class", "democlass");
        }
    </script>
</body>
</html>